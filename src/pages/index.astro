---
import Layout from '../layouts/Layout.astro';
import Header from '../components/layout/Header.astro';
import Footer from '../components/layout/Footer.astro';
import Button from '../components/ui/Button.astro';
import ProjectCard from '../components/features/ProjectCard.astro';
import JsonLd from '../components/widgets/JsonLd.astro';
import { getCollection } from 'astro:content';
import type { CollectionEntry } from 'astro:content';

const allProjects = await getCollection('projects', ({ data }: CollectionEntry<'projects'>) => {
  return data.published === true;
});

type ProjectCardProps = {
  title: string;
  tech: string;
  description: string;
  icon: string;
  badges: string[];
  slug: string;
  downloadLink?: string;
};

const projects = allProjects
  .sort((a: CollectionEntry<'projects'>, b: CollectionEntry<'projects'>) => a.data.order - b.data.order)
  .map((project: CollectionEntry<'projects'>): ProjectCardProps => ({
    title: project.data.title,
    tech: project.data.tech,
    description: project.data.description,
    icon: project.data.icon,
    badges: project.data.badges,
    slug: project.id,
    downloadLink: project.data.downloadLink
  }));
---

<Layout title="DARK NIGHT - Open Source Games & Apps">
  <JsonLd />
  <Header />

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-container">
      <div class="hero-content">
        <div class="hero-badge">
          <span class="material-icons">rocket_launch</span>
          Open Source Games & Apps
        </div>
        <h1>DARK NIGHT</h1>
        <p>
          –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —Å–æ–∑–¥–∞—é—â–∞—è –∏–Ω–¥–∏-–∏–≥—Ä—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º. 
          –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –∏–¥–µ–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å –∏ –¥–µ–ª–∏–º—Å—è —Å –º–∏—Ä–æ–º.
        </p>
        <div class="hero-buttons">
          <Button href="/#projects" icon="apps">–ù–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã</Button>
          <Button href="/#join" icon="group_add">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</Button>
        </div>
      </div>
      <div class="mascot-container">
        <div class="mascot-placeholder">
          üê¶‚Äç‚¨õ<br><br>
          –í–æ—Ä–æ–Ω –≤ –≥–µ—Ä–æ–∏—á–µ—Å–∫–æ–π –ø–æ–∑–µ<br>
          <small style="opacity: 0.6;">(–≤–∞—à–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Å–∫–æ—Ç–∞)</small>
        </div>
      </div>
    </div>
  </section>

  <!-- Mission Section -->
  <section id="mission">
    <div class="section-header">
      <h2>–ù–∞—à–∞ –º–∏—Å—Å–∏—è</h2>
      <p>–û—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å, —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ –∏ —Å–≤–æ–±–æ–¥–∞ –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö</p>
    </div>

    <div class="mission-layout">
      <div class="mission-content">
        <h3>üåü –í–æ —á—Ç–æ –º—ã –≤–µ—Ä–∏–º</h3>
        <p>
          –ú—ã –≤–µ—Ä–∏–º –≤ —Å–∏–ª—É –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏ –¥—É—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞. 
          –†–∞–±–æ—Ç–∞–µ–º –≤–º–µ—Å—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –∏–¥–µ–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–µ, –ø–æ–ª–µ–∑–Ω–æ–µ –ü–û, 
          –∏ –¥–µ–ª–∏–º—Å—è –Ω–∞—à–∏–º–∏ —Ç–≤–æ—Ä–µ–Ω–∏—è–º–∏ —Å –º–∏—Ä–æ–º –±–µ—Å–ø–ª–∞—Ç–Ω–æ.
        </p>
        <p>
          –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –∏ —Å–≤–æ–±–æ–¥—É –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö. 
          –î–∞–≤–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –ª—É—á—à–∏–π, –æ—Ç–∫—Ä—ã—Ç—ã–π –∏ —Å–≤–æ–±–æ–¥–Ω—ã–π –º–∏—Ä —á–µ—Ä–µ–∑ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.
        </p>
        <div class="mission-values">
          <span class="value-tag">Open Source</span>
          <span class="value-tag">Collaboration</span>
          <span class="value-tag">Innovation</span>
          <span class="value-tag">Freedom</span>
          <span class="value-tag">Quality</span>
        </div>
      </div>
      <div class="mascot-container">
        <div class="mascot-placeholder" style="height: 100%;">
          üê¶‚Äç‚¨õ<br><br>
          –í–æ—Ä–æ–Ω —Å –∫–Ω–∏–≥–æ–π –∑–Ω–∞–Ω–∏–π<br>
          <small style="opacity: 0.6;">(–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Å–∫–æ—Ç–∞)</small>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects Section -->
  <section id="projects">
    <div class="section-header">
      <h2>–ù–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã</h2>
      <p>–ò–≥—Ä—ã –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å –ª—é–±–æ–≤—å—é –∫ –∫–æ–¥—É</p>
    </div>

    <div class="projects-grid">
      {projects.map((project: ProjectCardProps) => <ProjectCard {...project} />)}
    </div>
  </section>

  <!-- Join Section -->
  <section id="join">
    <div class="section-header">
      <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å</h2>
      <p>–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤—Å–µ—Ö, –∫—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –Ω–∞—à—É —Å—Ç—Ä–∞—Å—Ç—å –∫ open-source</p>
    </div>

    <div class="join-grid">
      <div class="join-card">
        <div class="join-icon">
          <span class="material-icons">code</span>
        </div>
        <h4>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏</h4>
        <p>Flutter, Unity, Web, Backend ‚Äî –ª—é–±–æ–π —Å—Ç–µ–∫ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è</p>
      </div>

      <div class="join-card">
        <div class="join-icon">
          <span class="material-icons">palette</span>
        </div>
        <h4>–î–∏–∑–∞–π–Ω–µ—Ä—ã</h4>
        <p>UI/UX –¥–∏–∑–∞–π–Ω, –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–∏, –∞–Ω–∏–º–∞—Ü–∏–∏</p>
      </div>

      <div class="join-card">
        <div class="join-icon">
          <span class="material-icons">translate</span>
        </div>
        <h4>–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫–∏</h4>
        <p>–ü–æ–º–æ–≥–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –≤—Å–µ–≥–æ –º–∏—Ä–∞</p>
      </div>

      <div class="join-card">
        <div class="join-icon">
          <span class="material-icons">lightbulb</span>
        </div>
        <h4>–≠–Ω—Ç—É–∑–∏–∞—Å—Ç—ã</h4>
        <p>–ò–¥–µ–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</p>
      </div>
    </div>

    <div class="join-cta">
      <Button href="https://github.com/darkmoonight" icon="favorite">
        –°—Ç–∞—Ç—å —á–∞—Å—Ç—å—é –∫–æ–º–∞–Ω–¥—ã
      </Button>
    </div>
  </section>

  <!-- CTA Section with Mascot -->
  <section>
    <div class="cta-section">
      <div class="cta-content">
        <h2>–ü–æ–¥–¥–µ—Ä–∂–∏—Ç–µ –Ω–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã</h2>
        <p>
          –í–∞—à–∏ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö open-source –ø—Ä–æ–µ–∫—Ç–æ–≤. 
          –ö–∞–∂–¥—ã–π –≤–∫–ª–∞–¥ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏.
        </p>
        <Button href="#donate" class="donate-btn" icon="volunteer_activism">
          –°–¥–µ–ª–∞—Ç—å –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏–µ
        </Button>
      </div>
      <div class="cta-mascot">
        <div class="mascot-placeholder">
          üê¶‚Äç‚¨õ<br><br>
          –í–æ—Ä–æ–Ω —Å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å—é<br>
          <small style="opacity: 0.6;">(–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–∞—Å–∫–æ—Ç–∞)</small>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contact">
    <div class="section-header">
      <h2>–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</h2>
      <p>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö</p>
    </div>

    <div class="contact-grid">
      <div class="contact-card">
        <span class="material-icons">code</span>
        <h4>GitHub</h4>
        <p>darkmoonight</p>
      </div>

      <div class="contact-card">
        <span class="material-icons">chat</span>
        <h4>Discord</h4>
        <p>–û–±—Å—É–∂–¥–µ–Ω–∏—è</p>
      </div>

      <div class="contact-card">
        <span class="material-icons">forum</span>
        <h4>–§–æ—Ä—É–º</h4>
        <p>–°–æ–æ–±—â–µ—Å—Ç–≤–æ</p>
      </div>

      <div class="contact-card">
        <span class="material-icons">mail</span>
        <h4>Email</h4>
        <p>contact@darknight.dev</p>
      </div>
    </div>
  </section>

  <Footer />
</Layout>

<style>
  .hero {
    position: relative;
    min-height: 95vh;
    display: flex;
    align-items: center;
    padding: 100px 32px 60px;
    overflow: hidden;
    background: var(--md-sys-color-background);
  }


  .hero-container {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1.3fr 1fr;
    gap: 80px;
    align-items: center;
    position: relative;
    z-index: 1;
  }

  .hero-content {
    animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background-color: var(--md-sys-color-surface-container-high);
    color: var(--md-sys-color-primary);
    padding: 10px 20px;
    border-radius: 100px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 28px;
    border: 1px solid var(--md-sys-color-outline-variant);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .hero-badge .material-icons {
    font-size: 18px;
  }

  .hero-badge:hover {
    border-color: var(--md-sys-color-primary);
    transform: translateY(-2px);
  }

  .hero h1 {
    font-size: 72px;
    font-weight: 900;
    margin-bottom: 20px;
    color: var(--md-sys-color-on-background);
    letter-spacing: -2px;
    line-height: 1.1;
  }

  .hero p {
    font-size: 20px;
    margin-bottom: 36px;
    color: var(--md-sys-color-on-surface-variant);
    line-height: 1.7;
  }

  .hero-buttons {
    display: flex;
    gap: 16px;
    flex-wrap: wrap;
  }

  .mascot-container {
    position: relative;
    animation: fadeInRight 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.2s both;
    display: flex;
    align-items: stretch;
    width: 100%;
    height: 100%;
  }

  #mission .mascot-container {
    height: 100%;
    min-height: 100%;
  }

  #mission .mascot-placeholder {
    height: 100% !important;
    min-height: 100%;
  }

  @keyframes fadeInRight {
    from { opacity: 0; transform: translateX(30px); }
    to { opacity: 1; transform: translateX(0); }
  }

  .mascot-placeholder {
    background: linear-gradient(135deg, var(--md-sys-color-surface-container) 0%, var(--md-sys-color-surface-container-high) 100%);
    border-radius: 28px;
    height: 480px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--md-sys-color-outline);
    font-size: 18px;
    border: 2px solid var(--md-sys-color-outline-variant);
    text-align: center;
    padding: 24px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .mascot-placeholder::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, transparent 0%, rgba(166, 196, 255, 0.05) 100%);
    opacity: 0;
    transition: opacity 0.4s;
  }

  .mascot-placeholder:hover {
    border-color: var(--md-sys-color-primary);
    transform: translateY(-4px) scale(1.02);
  }

  .mascot-placeholder:hover::before {
    opacity: 1;
  }

  section {
    max-width: 1400px;
    margin: 0 auto;
    padding: 80px 32px;
    width: 100%;
    box-sizing: border-box;
  }

  #mission {
    padding: 80px 32px;
    max-width: 1400px;
    margin: 0 auto;
    box-sizing: border-box;
    width: 100%;
  }

  .section-header {
    text-align: center;
    margin-bottom: 60px;
    width: 100%;
    max-width: 100%;
  }

  .section-header h2 {
    font-size: 48px;
    font-weight: 800;
    margin-bottom: 14px;
    color: var(--md-sys-color-on-background);
    letter-spacing: -1px;
  }

  .section-header p {
    font-size: 19px;
    color: var(--md-sys-color-on-surface-variant);
  }

  .mission-layout {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 60px;
    align-items: stretch;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
  }

  .mission-content {
    background-color: var(--md-sys-color-surface-container);
    border-radius: 24px;
    padding: 44px;
    border: 1px solid var(--md-sys-color-outline-variant);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mission-content:hover {
    border-color: var(--md-sys-color-primary);
    transform: translateY(-4px);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
  }

  .mission-content h3 {
    font-size: 26px;
    color: var(--md-sys-color-primary);
    margin-bottom: 20px;
    font-weight: 700;
  }

  .mission-content p {
    font-size: 17px;
    line-height: 1.8;
    margin-bottom: 18px;
    color: var(--md-sys-color-on-surface-variant);
  }

  .mission-values {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 28px;
  }

  .value-tag {
    background-color: var(--md-sys-color-surface-container-highest);
    color: var(--md-sys-color-on-surface);
    padding: 9px 18px;
    border-radius: 100px;
    font-size: 14px;
    font-weight: 600;
    border: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .value-tag:hover {
    background-color: var(--md-sys-color-primary-container);
    color: var(--md-sys-color-on-primary-container);
    transform: translateY(-2px);
  }

  .projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(370px, 1fr));
    gap: 28px;
  }

  .join-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
    gap: 24px;
  }

  .join-card {
    background-color: var(--md-sys-color-surface-container);
    border-radius: 20px;
    padding: 36px 28px;
    text-align: center;
    border: 1px solid var(--md-sys-color-outline-variant);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .join-card:hover {
    border-color: var(--md-sys-color-primary);
    background-color: var(--md-sys-color-surface-container-high);
    transform: translateY(-6px);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
  }

  .join-icon {
    width: 68px;
    height: 68px;
    background: linear-gradient(135deg, var(--md-sys-color-primary-container), var(--md-sys-color-tertiary));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    color: var(--md-sys-color-on-primary-container);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .join-icon .material-icons {
    font-size: 34px;
  }

  .join-card:hover .join-icon {
    transform: scale(1.1) rotate(5deg);
  }

  .join-card h4 {
    font-size: 19px;
    margin-bottom: 10px;
    color: var(--md-sys-color-on-surface);
    font-weight: 700;
  }

  .join-card p {
    color: var(--md-sys-color-on-surface-variant);
    font-size: 15px;
    line-height: 1.6;
  }

  .join-cta {
    text-align: center;
    margin-top: 52px;
  }

  .cta-section {
    background: linear-gradient(135deg, var(--md-sys-color-primary-container), var(--md-sys-color-secondary-container));
    border-radius: 28px;
    padding: 60px 48px;
    border: 1px solid var(--md-sys-color-primary);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 60px;
    align-items: center;
  }

  .cta-section::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
    opacity: 0;
    transition: opacity 0.4s;
  }

  .cta-section:hover::before {
    opacity: 1;
  }

  .cta-section:hover {
    transform: translateY(-4px);
    box-shadow: 0 16px 48px rgba(0, 0, 0, 0.5);
  }

  .cta-content h2 {
    font-size: 44px;
    font-weight: 800;
    margin-bottom: 18px;
    color: var(--md-sys-color-on-primary-container);
  }

  .cta-content p {
    font-size: 18px;
    margin-bottom: 32px;
    color: var(--md-sys-color-on-primary-container);
    opacity: 0.95;
    line-height: 1.7;
  }

  :global(.donate-btn) {
    background: white !important;
    color: var(--md-sys-color-primary-container) !important;
  }

  .cta-mascot .mascot-placeholder {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
    height: 350px;
  }

  .contact-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 24px;
  }

  .contact-card {
    background-color: var(--md-sys-color-surface-container);
    border-radius: 20px;
    padding: 32px;
    text-align: center;
    border: 1px solid var(--md-sys-color-outline-variant);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
  }

  .contact-card:hover {
    border-color: var(--md-sys-color-primary);
    transform: translateY(-6px);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
  }

  .contact-card .material-icons {
    font-size: 44px;
    color: var(--md-sys-color-primary);
    margin-bottom: 16px;
    transition: all 0.4s;
  }

  .contact-card:hover .material-icons {
    transform: scale(1.15);
  }

  .contact-card h4 {
    font-size: 18px;
    margin-bottom: 8px;
    color: var(--md-sys-color-on-surface);
    font-weight: 600;
  }

  .contact-card p {
    color: var(--md-sys-color-on-surface-variant);
    font-size: 14px;
  }

  @media (max-width: 1024px) {
    .hero-container,
    .mission-layout,
    .cta-section {
      grid-template-columns: 1fr;
    }

    .hero h1 {
      font-size: 52px;
    }

    .section-header h2 {
      font-size: 40px;
    }
  }

  @media (max-width: 768px) {
    .hero {
      padding: 80px 20px 50px;
    }

    .hero h1 {
      font-size: 36px;
    }

    .hero p {
      font-size: 17px;
    }

    section {
      padding: 60px 20px;
    }

    .section-header h2 {
      font-size: 32px;
    }

    .projects-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
